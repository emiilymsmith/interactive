<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    
    <style>
      svg {
        background: #efefef;
      }

      .county {
        fill:#e3e3e3;
        stroke: #333;
        stroke-width: 0.5;
      }

      .selected {
        fill: rgb(252,146,114);
      }

      #title {
        text-align: center;
        margin-top: 50px;
        margin-bottom: 15px;
      }

      #info {
        text-align: left;
      }

      #selectPanel {
        background: #efefef;
        padding-top: 20px;
      }

      #legendHolder {
        height:200px;
        width: 200px;
        background: #efefef;
        margin-bottom: 20px;
        padding-top: 20px;
        padding: 15px;
      }

    </style>

    <!-- D3 --->
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>
    
    <title>Interactive Design</title>
  </head>

  <body>
    <div class="container">
    
      <!-- Title -->
      <div id="title">
        <h1 class="title has-text-centered">New York City</h1>
        <h2 class="subtitle has-text-centered">EMS Incident Dispatch Data</h2>
      </div>
      
      <div class="row">
        <!-- Select Panel / Left Column -->
        <div class="col" id="selectPanel">
          <form id="myForm">
            <label>Select first month of data</label>
            <select id="selectNumber"></select>
            <br>
            <label>Select last month of data</label>
            <select id="selectNumber2"></select>
            <br><br> <label>Warning: Data files are large, please be patient.</label>
          </form>
        </div>

        <!-- Map -->
        <div class="col-6" id="map"></div>

        <!-- Legend Panel / Right Column -->
        <div class="col" id="legendPanel"> <!--need to figure out how to move these below on smaller window size -->
          <!-- <svg id="legendSvg" height=220 width=auto></svg> -->
          <div id="legendHolder">
            Number of incidents reported in selected area(s):
            <span id="count"></span>
          </div>
          <img src="NewYorkMap.png" style="max-width:90%;" >
        </div>
      </div><!-- end row -->

      <!-- Write-up -->
      <div id="info">
        <br>
        <h4>Write-up</h4>
        <p>As a group, we decided to use a map as our interactive graphic. Based on the data that we have, we felt that 
          a map was the best way to convey our data. <br> The first step in the development process was displaying a simple static
          map. We began by having the state of New York drawn before narrowing the map down to the specific areas we wanted to 
          examine. Then we began to add specific features such as the interaction to choose the range of the data and to display the
          data. <br> Approximately [INSERT NUMBER HERE] hours were spend develpoing the application. The aspects that took the most
          time were breaking up the csv file and updating the legend. Since the data file is large, we had to divide the csv
          into multiple files in order to access the data.  
        </p>
        <br><h6>Created by: Hannah Dolan, Nathan Raymond, Emily Smith</h6>
      </div>
    </div> <!-- end container -->

    <script>
      var select = document.getElementById("selectNumber"); 
      var select2 = document.getElementById("selectNumber2"); 
      var filesList = ["1_2013-01-01.csv","2_2013-02-01.csv","3_2013-03-01.csv","4_2013-04-01.csv","5_2013-05-01.csv","6_2013-06-01.csv","7_2013-07-01.csv","8_2013-08-01.csv","9_2013-09-01.csv","10_2013-10-01.csv","11_2013-11-01.csv","12_2013-12-01.csv","13_2014-01-01.csv","14_2014-02-01.csv","15_2014-03-01.csv","16_2014-04-01.csv","17_2014-05-01.csv","18_2014-06-01.csv","19_2014-07-01.csv","20_2014-08-01.csv","21_2014-09-01.csv","22_2014-10-01.csv","23_2014-11-01.csv","24_2014-12-01.csv","25_2015-01-01.csv","26_2015-02-01.csv","27_2015-03-01.csv","28_2015-04-01.csv","29_2015-05-01.csv","30_2015-06-01.csv","31_2015-07-01.csv","32_2015-08-01.csv","33_2015-09-01.csv","34_2015-10-01.csv","35_2015-11-01.csv","36_2015-12-01.csv","37_2016-01-01.csv","38_2016-02-01.csv","39_2016-03-01.csv","40_2016-04-01.csv","41_2016-05-01.csv","42_2016-06-01.csv","43_2016-07-01.csv","44_2016-08-01.csv","45_2016-09-01.csv","46_2016-10-01.csv","47_2016-11-01.csv","48_2016-12-01.csv","49_2017-01-01.csv","50_2017-02-01.csv","51_2017-03-01.csv","52_2017-04-01.csv","53_2017-05-01.csv","54_2017-06-01.csv","55_2017-07-01.csv","56_2017-08-01.csv","57_2017-09-01.csv","58_2017-10-01.csv","59_2017-11-01.csv","60_2017-12-01.csv","61_2018-01-01.csv","62_2018-02-01.csv","63_2018-03-01.csv","64_2018-04-01.csv","65_2018-05-01.csv","66_2018-06-01.csv","67_2018-07-01.csv","68_2018-08-01.csv","69_2018-09-01.csv","70_2018-10-01.csv","71_2018-11-01.csv","72_2018-12-01.csv"];

      for(var i = 0; i < filesList.length; i++) {
          var opt = filesList[i];
          var el = document.createElement("option");
          var al = document.createElement("option");
          var string = opt.split("_")[1];
          string = string.split("-")[0] + "-" + string.split("-")[1];
          el.textContent = string;
          el.value = opt;
          al.textContent = string;
          al.value = opt;
          select.appendChild(el);
          select2.appendChild(al);
          
      }
      </script>  
      <script src="/scripts/ny.js"></script>
  </body>
</html>